<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        function fetchUser (val){
            setTimeout(() => {
                console.log(val)
            }, 2000)
        }

         function getUser(userId, callback){
            fetchUser(userId, (error, result) => {
                if(callback){
                    callback(error, result)
                }else {
                    return new Promise((resolve, reject) => {
                        if(result){
                            resolve(result);
                        }else{
                            reject(error)
                        }
                    })
                }
            })
        }

        getUser(1, (error, user) => {
            if(error){
                console.error(error);
            }
            console.log(user);
        })

        async (function () {
            try{
            const user = await getUser(1);
            console.log(user);
            }catch(error){
                console.error(error)
            }
        })()
        
    </script>
</body>
</html>